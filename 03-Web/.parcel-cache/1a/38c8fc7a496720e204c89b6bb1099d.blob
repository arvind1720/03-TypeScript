var parcelHelpers = require("@parcel/transformer-js/src/esmodule-helpers.js");
parcelHelpers.defineInteropFlag(exports);
parcelHelpers.export(exports, "User", ()=>User
);
var _axios = require("axios");
var _axiosDefault = parcelHelpers.interopDefault(_axios);
class User {
    constructor(data){
        this.data = data;
        this.events = {
        };
    }
    get(propName) {
        return this.data[propName];
    }
    set(update) {
        Object.assign(this.data, update);
    }
    on(eventName, callback) {
        const handlers = this.events[eventName] || [];
        handlers.push(callback);
        this.events[eventName] = handlers;
    }
    fetch() {
        _axiosDefault.default.get(`http://localhost:3000/users/${this.get('id')}`).then((response)=>{
            this.set(response.data);
        });
    }
    save() {
        const id = this.get('id');
        if (id) _axiosDefault.default.put(`http://localhost:3000/users/${id}`, this.data);
        else _axiosDefault.default.post('http://localhost:3000/users', this.data);
    }
}
